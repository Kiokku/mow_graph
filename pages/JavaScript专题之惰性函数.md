- >https://github.com/mqyqingfeng/Blog/issues/44
-
- > ğŸ“ éœ€æ±‚
  >
  >æˆ‘ä»¬ç°åœ¨éœ€è¦å†™ä¸€ä¸ª foo å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›é¦–æ¬¡è°ƒç”¨æ—¶çš„ Date å¯¹è±¡ï¼Œæ³¨æ„æ˜¯**é¦–æ¬¡**ã€‚
- ## è§£å†³ä¸€ï¼šæ™®é€šæ–¹æ³•
	- ```
	  var t;
	  function foo() {
	      if (t) return t;
	      t = new Date()
	      return t;
	  }
	  ```
	- é—®é¢˜æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯[[#red]]==æ±¡æŸ“äº†å…¨å±€å˜é‡==ï¼ŒäºŒæ˜¯æ¯æ¬¡è°ƒç”¨ foo çš„æ—¶å€™éƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ã€‚
- ## è§£å†³äºŒï¼šé—­åŒ…
	- æˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ç”¨é—­åŒ…é¿å…æ±¡æŸ“å…¨å±€å˜é‡ã€‚
	- ```
	  var foo = (function() {
	      var t;
	      return function() {
	          if (t) return t;
	          t = new Date();
	          return t;
	      }
	  })();
	  
	  // fooä¸ºIIFEï¼Œäº§ç”Ÿé—­åŒ…ã€‚
	  ```
	- ç„¶è€Œè¿˜æ˜¯[[#red]]==æ²¡æœ‰è§£å†³è°ƒç”¨æ—¶éƒ½å¿…é¡»è¿›è¡Œä¸€æ¬¡åˆ¤æ–­çš„é—®é¢˜==ã€‚
- ## è§£å†³ä¸‰ï¼šå‡½æ•°å¯¹è±¡
	- å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
	- ```
	  function foo() {
	      if (foo.t) return foo.t;
	      foo.t = new Date();
	      return foo.t;
	  }
	  ```
	- ä¾æ—§[[#red]]==æ²¡æœ‰è§£å†³è°ƒç”¨æ—¶éƒ½å¿…é¡»è¿›è¡Œä¸€æ¬¡åˆ¤æ–­çš„é—®é¢˜==ã€‚
- ## è§£å†³å››ï¼šæƒ°æ€§å‡½æ•°
	- è§£å†³åŸç†å¾ˆç®€å•ï¼Œ[[#green]]==é‡å†™å‡½æ•°==ã€‚
	- ```
	  var foo = function() {
	      var t = new Date();
	      foo = function() {
	          return t;
	      };
	      return foo();
	  };
	  ```
- ## æ›´å¤šåº”ç”¨
	- DOM äº‹ä»¶æ·»åŠ ä¸­ï¼Œä¸ºäº†å…¼å®¹ç°ä»£æµè§ˆå™¨å’Œ IE æµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æµè§ˆå™¨ç¯å¢ƒè¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼š
	- ```
	  // ç®€åŒ–å†™æ³•
	  function addEvent (type, el, fn) {
	      if (window.addEventListener) {
	          el.addEventListener(type, fn, false);
	      }
	      else if(window.attachEvent){
	          el.attachEvent('on' + type, fn);
	      }
	  }
	  ```